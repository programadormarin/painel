"use strict";function ParceirosController(e,r,a,t,o){e.curPage=1,e.pageSize=12;var n={headers:{Authorization:localStorage.getItem("token"),Site:localStorage.getItem("site")}};e.load=function(){t.get($('meta[name="api"]').attr("content")+"parceiro?page="+e.curPage+"&limit="+e.pageSize,n).then(function(r){e.linhas=r.data})},e.upload=function(){var r=e.parceiro;o.upload(r.imagem[0],{}).then(function(a){r.imagem=a.data,e.add(r)})},e.add=function(){t.post($('meta[name="api"]').attr("content")+"parceiro",e.parceiro,n).success(function(){a.url("/parceiros"),e.load()}).error(function(){e.status={type:"danger",message:"Erro inserindo parceiro"}})},e["delete"]=function(r){if(confirm("Você deseja realmente apagar o parceiro?\nEste procedimento é irreversível!")){var o=e.linhas.data[r];t["delete"]($('meta[name="api"]').attr("content")+"parceiro/"+o._id,n).then(function(r){204==r.status?(e.status={type:"success",message:"Parceiro removido com sucesso!"},a.path("/parceiros"),e.load()):e.status={type:"danger",message:"Erro removendo parceiro, tente novamente mais tarde"}})}},e.edit=function(){t.put($('meta[name="api"]').attr("content")+"parceiro/"+r.id,e.parceiro,n).success(function(r){e.status={type:"success",message:"Parceiro atualizado com sucesso!"}}).error(function(){e.status={type:"danger",message:"Ocorreu um erro atualizando os dados do parceiro, tente novamente mais tarde"}})},e.get=function(){t.get($('meta[name="api"]').attr("content")+"parceiro/"+r.id,n).then(function(r){e.parceiro=r.data.data})}}angular.module("myApp.parceiros",["ngRoute","angular-cloudinary"]).config(["$routeProvider",function(e){e.when("/parceiros",{templateUrl:"modules/parceiros/index.html",controller:"ParceirosController"}).when("/parceiros/adicionar",{templateUrl:"modules/parceiros/add.html",controller:"ParceirosController"}).when("/parceiros/editar/:id",{templateUrl:"modules/parceiros/edit.html",controller:"ParceirosController"})}]).controller("ParceirosController",["$scope","$routeParams","$location","$http","cloudinary",ParceirosController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvcGFyY2Vpcm9zL2luZGV4LmpzIl0sIm5hbWVzIjpbIlBhcmNlaXJvc0NvbnRyb2xsZXIiLCIkc2NvcGUiLCIkcm91dGVQYXJhbXMiLCIkbG9jYXRpb24iLCIkaHR0cCIsIiRjbG91ZGluYXJ5IiwiY3VyUGFnZSIsInBhZ2VTaXplIiwiY29uZmlnIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiU2l0ZSIsImxvYWQiLCJnZXQiLCIkIiwiYXR0ciIsInRoZW4iLCJkYXRhIiwibGluaGFzIiwidXBsb2FkIiwiJHBhcmNlaXJvIiwicGFyY2Vpcm8iLCJpbWFnZW0iLCJyZXNwIiwiYWRkIiwicG9zdCIsInN1Y2Nlc3MiLCJ1cmwiLCJlcnJvciIsInN0YXR1cyIsInR5cGUiLCJtZXNzYWdlIiwiaWQiLCJjb25maXJtIiwidG9EZWxldGUiLCJfaWQiLCJwYXRoIiwiZWRpdCIsInB1dCIsImFuZ3VsYXIiLCJtb2R1bGUiLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUFBLFlBWUEsU0FBU0EscUJBQXFCQyxFQUFRQyxFQUFjQyxFQUFXQyxFQUFPQyxHQUNsRUosRUFBT0ssUUFBVyxFQUNsQkwsRUFBT00sU0FBVyxFQU9sQixJQUFJQyxJQUNBQyxTQUNJQyxjQUFlQyxhQUFhQyxRQUFRLFNBQ3BDQyxLQUFNRixhQUFhQyxRQUFRLFNBT25DWCxHQUFPYSxLQUFPLFdBQ1ZWLEVBQ0tXLElBQUlDLEVBQUUsb0JBQW9CQyxLQUFLLFdBQWEsaUJBQW1CaEIsRUFBT0ssUUFBVSxVQUFZTCxFQUFPTSxTQUFVQyxHQUM3R1UsS0FBSyxTQUFVQyxHQUNabEIsRUFBT21CLE9BQVVELEVBQVMsUUFPdENsQixFQUFPb0IsT0FBUyxXQUNaLEdBQUlDLEdBQVlyQixFQUFPc0IsUUFFdkJsQixHQUNLZ0IsT0FBT0MsRUFBVUUsT0FBTyxPQUN4Qk4sS0FBSyxTQUFVTyxHQUNaSCxFQUFVRSxPQUFTQyxFQUFLTixLQUV4QmxCLEVBQU95QixJQUFJSixNQU92QnJCLEVBQU95QixJQUFNLFdBQ1R0QixFQUNLdUIsS0FBS1gsRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxXQUFZaEIsRUFBT3NCLFNBQVVmLEdBQzFFb0IsUUFBUSxXQUNMekIsRUFBVTBCLElBQUksY0FDZDVCLEVBQU9hLFNBRVZnQixNQUFNLFdBQ0g3QixFQUFPOEIsUUFDSEMsS0FBTSxTQUNOQyxRQUFTLDhCQVV6QmhDLEVBQUFBLFVBQWdCLFNBQVVpQyxHQUN0QixHQUFJQyxRQUFRLCtFQUFnRixDQUN4RixHQUFJQyxHQUFXbkMsRUFBT21CLE9BQU9ELEtBQUtlLEVBRWxDOUIsR0FBQUEsVUFDWVksRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxZQUFjbUIsRUFBU0MsSUFBSzdCLEdBQzNFVSxLQUFLLFNBQVVDLEdBQ08sS0FBZkEsRUFBS1ksUUFDTDlCLEVBQU84QixRQUNIQyxLQUFNLFVBQ05DLFFBQVMsa0NBR2I5QixFQUFVbUMsS0FBSyxjQUNmckMsRUFBT2EsUUFFUGIsRUFBTzhCLFFBQ0hDLEtBQU0sU0FDTkMsUUFBUywyREFVakNoQyxFQUFPc0MsS0FBTyxXQUNWbkMsRUFDS29DLElBQUl4QixFQUFFLG9CQUFvQkMsS0FBSyxXQUFhLFlBQWNmLEVBQWFnQyxHQUFJakMsRUFBT3NCLFNBQVVmLEdBQzVGb0IsUUFBUSxTQUFVVCxHQUNmbEIsRUFBTzhCLFFBQ0hDLEtBQU0sVUFDTkMsUUFBUyxzQ0FHaEJILE1BQU0sV0FDSDdCLEVBQU84QixRQUNIQyxLQUFNLFNBQ05DLFFBQVMsbUZBUXpCaEMsRUFBT2MsSUFBTSxXQUNUWCxFQUNLVyxJQUFJQyxFQUFFLG9CQUFvQkMsS0FBSyxXQUFhLFlBQWNmLEVBQWFnQyxHQUFJMUIsR0FDM0VVLEtBQUssU0FBVUMsR0FDWmxCLEVBQU9zQixTQUFZSixFQUFLQSxLQUFTLFFBS2pEc0IsUUFDS0MsT0FBTyxtQkFBb0IsVUFBVyx1QkFFdENsQyxRQUFRLGlCQUFrQixTQUFVbUMsR0FDakNBLEVBQ0tDLEtBQUssY0FDRkMsWUFBYSwrQkFDYkMsV0FBWSx3QkFFZkYsS0FBSyx3QkFDRkMsWUFBYSw2QkFDYkMsV0FBWSx3QkFFZkYsS0FBSyx5QkFDRkMsWUFBYSw4QkFDYkMsV0FBWSwyQkFLdkJBLFdBQVcsdUJBQXdCLFNBQVUsZUFBZ0IsWUFBYSxRQUFTLGFBQWM5QyIsImZpbGUiOiJtb2R1bGVzL3BhcmNlaXJvcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBQYXJjZWlyb3NcbiAqIFxuICogQHBhcmFtICRzY29wZVxuICogQHBhcmFtICRyb3V0ZVBhcmFtc1xuICogQHBhcmFtICRsb2NhdGlvblxuICogQHBhcmFtICRodHRwXG4gKiBAcGFyYW0gJGNsb3VkaW5hcnlcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYXJjZWlyb3NDb250cm9sbGVyICgkc2NvcGUsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCAkaHR0cCwgJGNsb3VkaW5hcnkpIHtcbiAgICAkc2NvcGUuY3VyUGFnZSAgPSAxO1xuICAgICRzY29wZS5wYWdlU2l6ZSA9IDEyO1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhbCBjb25maWdcbiAgICAgKlxuICAgICAqIEB0eXBlIHt7aGVhZGVyczoge0F1dGhvcml6YXRpb24sIFNpdGV9fX1cbiAgICAgKi9cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbiAgICAgICAgICAgIFNpdGU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzaXRlJylcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYXJyZWdhIFBhcmNlaXJvc1xuICAgICAqL1xuICAgICRzY29wZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkaHR0cFxuICAgICAgICAgICAgLmdldCgkKCdtZXRhW25hbWU9XCJhcGlcIl0nKS5hdHRyKCdjb250ZW50JykgKyAncGFyY2Vpcm8/cGFnZT0nICsgJHNjb3BlLmN1clBhZ2UgKyAnJmxpbWl0PScgKyAkc2NvcGUucGFnZVNpemUsIGNvbmZpZylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpbmhhcyA9IChkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZheiBvIHVwbG9hZCBkYSBpbWFnZW0gZG8gUGFyY2Vpcm9cbiAgICAgKi9cbiAgICAkc2NvcGUudXBsb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkcGFyY2Vpcm8gPSAkc2NvcGUucGFyY2Vpcm87XG5cbiAgICAgICAgJGNsb3VkaW5hcnlcbiAgICAgICAgICAgIC51cGxvYWQoJHBhcmNlaXJvLmltYWdlbVswXSwge30pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgICAgICRwYXJjZWlyby5pbWFnZW0gPSByZXNwLmRhdGE7XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkKCRwYXJjZWlybyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgUGFyY2Vpcm9cbiAgICAgKi9cbiAgICAkc2NvcGUuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkaHR0cFxuICAgICAgICAgICAgLnBvc3QoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3BhcmNlaXJvJywgJHNjb3BlLnBhcmNlaXJvLCBjb25maWcpXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnVybCgnL3BhcmNlaXJvcycpO1xuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm8gaW5zZXJpbmRvIHBhcmNlaXJvJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBhZ2EgUGFyY2Vpcm9cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZFxuICAgICAqL1xuICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaWYgKGNvbmZpcm0oJ1ZvY8OqIGRlc2VqYSByZWFsbWVudGUgYXBhZ2FyIG8gcGFyY2Vpcm8/XFxuRXN0ZSBwcm9jZWRpbWVudG8gw6kgaXJyZXZlcnPDrXZlbCEnKSkge1xuICAgICAgICAgICAgdmFyIHRvRGVsZXRlID0gJHNjb3BlLmxpbmhhcy5kYXRhW2lkXTtcblxuICAgICAgICAgICAgJGh0dHBcbiAgICAgICAgICAgICAgICAuZGVsZXRlKCQoJ21ldGFbbmFtZT1cImFwaVwiXScpLmF0dHIoJ2NvbnRlbnQnKSArICdwYXJjZWlyby8nICsgdG9EZWxldGUuX2lkLCBjb25maWcpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BhcmNlaXJvIHJlbW92aWRvIGNvbSBzdWNlc3NvISdcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvcGFyY2Vpcm9zJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXJybyByZW1vdmVuZG8gcGFyY2Vpcm8sIHRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRWRpdGFyIFBhcmNlaXJvXG4gICAgICovXG4gICAgJHNjb3BlLmVkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRodHRwXG4gICAgICAgICAgICAucHV0KCQoJ21ldGFbbmFtZT1cImFwaVwiXScpLmF0dHIoJ2NvbnRlbnQnKSArICdwYXJjZWlyby8nICsgJHJvdXRlUGFyYW1zLmlkLCAkc2NvcGUucGFyY2Vpcm8sIGNvbmZpZylcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGFyY2Vpcm8gYXR1YWxpemFkbyBjb20gc3VjZXNzbyEnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdPY29ycmV1IHVtIGVycm8gYXR1YWxpemFuZG8gb3MgZGFkb3MgZG8gcGFyY2Vpcm8sIHRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWaXN1YWxpemFyIFBhcmNlaXJvXG4gICAgICovXG4gICAgJHNjb3BlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5nZXQoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3BhcmNlaXJvLycgKyAkcm91dGVQYXJhbXMuaWQsIGNvbmZpZylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhcmNlaXJvID0gKGRhdGEuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdteUFwcC5wYXJjZWlyb3MnLCBbJ25nUm91dGUnLCAnYW5ndWxhci1jbG91ZGluYXJ5J10pXG5cbiAgICAuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC53aGVuKCcvcGFyY2Vpcm9zJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wYXJjZWlyb3MvaW5kZXguaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1BhcmNlaXJvc0NvbnRyb2xsZXInXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9wYXJjZWlyb3MvYWRpY2lvbmFyJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wYXJjZWlyb3MvYWRkLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQYXJjZWlyb3NDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvcGFyY2Vpcm9zL2VkaXRhci86aWQnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3BhcmNlaXJvcy9lZGl0Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQYXJjZWlyb3NDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgO1xuICAgIH1dKVxuXG4gICAgLmNvbnRyb2xsZXIoJ1BhcmNlaXJvc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJywgJyRodHRwJywgJ2Nsb3VkaW5hcnknLCBQYXJjZWlyb3NDb250cm9sbGVyXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
