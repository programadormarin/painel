"use strict";function ProdutosController(t,o,e,a,r){t.curPage=1,t.pageSize=12,t.load=function(){a.get($('meta[name="api"]').attr("content")+"produto?page="+t.curPage+"&limit="+t.pageSize).then(function(o){t.linhas=o.data;for(var e=new Array,a=1;a<=o.data.pageCount;a++)e.push(a);t.paginas=e})},t.categories=function(){a.get($('meta[name="api"]').attr("content")+"site/"+config.headers.Site).then(function(o){t.site=o.data.data})},t.add=function(){var o=t.produto;o.categoria={titulo:t.produtoForm.categoria.titulo,categoria:{titulo:t.produtoForm.subCategoria.titulo}},r.upload({url:$('meta[name="api"]').attr("content")+"produto",data:o,headers:config.headers}).then(function(o){e.url("/produtos"),t.load()},function(o){t.status={type:"danger",message:"Erro cadastrando produto, tente novamente mais tarde"}},function(t){var o=parseInt(100*t.loaded/t.total);console.log("progress: "+o+"% "+t.config.data.file.name)})},t["delete"]=function(o){if(confirm("Você deseja realmente apagar o produto?\nEste procedimento é irreversível!")){var e=t.linhas.data[o];a["delete"]($('meta[name="api"]').attr("content")+"produto/"+e._id).then(function(e){204==e.status?(t.status={type:"success",message:"produto removido com sucesso!"},t.linhas.data.splice(o,1)):t.status={type:"danger",message:"Erro removendo produto, tente novamente mais tarde"}})}},t.edit=function(){var e=t.produto;e.categoria={titulo:t.produtoForm.categoria.titulo,categoria:{titulo:t.produtoForm.subCategoria.titulo}},a.put($('meta[name="api"]').attr("content")+"produto/"+o.id,e).success(function(o){t.status={type:"success",message:"produto atualizado com sucesso!"}}).error(function(){t.status={type:"danger",message:"Ocorreu um erro atualizando os dados do produto, tente novamente mais tarde"}})},t.get=function(){a.get($('meta[name="api"]').attr("content")+"produto/"+o.id).then(function(o){t.produto=o.data.data})},t.search=function(){var o=$('meta[name="api"]').attr("content")+"busca/?page="+t.curPage+"&limit="+t.pageSize+"&busca="+t.busca;a.get(o).then(function(o){t.linhas=o.data;for(var e=new Array,a=1;a<=o.data.pageCount;a++)e.push(a);t.paginas=e})}}angular.module("myApp.produtos",["ngRoute","ngFileUpload"]).config(["$routeProvider",function(t){t.when("/produtos",{templateUrl:"modules/produtos/index.html",controller:"ProdutosController"}).when("/produtos/adicionar",{templateUrl:"modules/produtos/add.html",controller:"ProdutosController"}).when("/produtos/editar/:id",{templateUrl:"modules/produtos/edit.html",controller:"ProdutosController"})}]).controller("ProdutosController",["$scope","$routeParams","$location","$http","Upload",ProdutosController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1dG9zL2luZGV4LmpzIl0sIm5hbWVzIjpbIlByb2R1dG9zQ29udHJvbGxlciIsIiRzY29wZSIsIiRyb3V0ZVBhcmFtcyIsIiRsb2NhdGlvbiIsIiRodHRwIiwiJHVwbG9hZCIsImN1clBhZ2UiLCJwYWdlU2l6ZSIsImxvYWQiLCJnZXQiLCIkIiwiYXR0ciIsInRoZW4iLCJyZXN1bHQiLCJsaW5oYXMiLCJwYWdpbmFzIiwiQXJyYXkiLCJpIiwiZGF0YSIsInBhZ2VDb3VudCIsInB1c2giLCJjYXRlZ29yaWVzIiwiY29uZmlnIiwiaGVhZGVycyIsIlNpdGUiLCJzaXRlIiwiYWRkIiwiJHByb2R1dG8iLCJwcm9kdXRvIiwiY2F0ZWdvcmlhIiwidGl0dWxvIiwicHJvZHV0b0Zvcm0iLCJzdWJDYXRlZ29yaWEiLCJ1cGxvYWQiLCJ1cmwiLCJyZXNwIiwic3RhdHVzIiwidHlwZSIsIm1lc3NhZ2UiLCJldnQiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJwYXJzZUludCIsImxvYWRlZCIsInRvdGFsIiwiY29uc29sZSIsImxvZyIsImZpbGUiLCJuYW1lIiwiaWQiLCJjb25maXJtIiwidG9EZWxldGUiLCJfaWQiLCJzcGxpY2UiLCJlZGl0IiwicHV0Iiwic3VjY2VzcyIsImVycm9yIiwic2VhcmNoIiwiYnVzY2EiLCJhbmd1bGFyIiwibW9kdWxlIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLFNBQVNBLG9CQUFvQkMsRUFBUUMsRUFBY0MsRUFBV0MsRUFBT0MsR0FDakVKLEVBQU9LLFFBQVcsRUFDbEJMLEVBQU9NLFNBQVcsR0FLbEJOLEVBQU9PLEtBQU8sV0FDVkosRUFDS0ssSUFBSUMsRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxnQkFBa0JWLEVBQU9LLFFBQVUsVUFBWUwsRUFBT00sVUFDbEdLLEtBQUssU0FBVUMsR0FDWlosRUFBT2EsT0FBVUQsRUFBVyxJQUk1QixLQUFL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RWZGLEtBQUssd0JBQ0ZDLFlBQWEsNkJBQ2JDLFdBQVksMEJBS3ZCQSxXQUFXLHNCQUF1QixTQUFVLGVBQWdCLFlBQWEsUUFBUyxTQUFVaEUiLCJmaWxlIjoicHJvZHV0b3MvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFByb2R1dG9zQ29udHJvbGxlciAoJHNjb3BlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbiwgJGh0dHAsICR1cGxvYWQpIHtcbiAgICAkc2NvcGUuY3VyUGFnZSAgPSAxO1xuICAgICRzY29wZS5wYWdlU2l6ZSA9IDEyO1xuXG4gICAgLyoqXG4gICAgICogQ2FycmVnYXIgUHJvZHV0b3NcbiAgICAgKi9cbiAgICAkc2NvcGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5nZXQoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3Byb2R1dG8/cGFnZT0nICsgJHNjb3BlLmN1clBhZ2UgKyAnJmxpbWl0PScgKyAkc2NvcGUucGFnZVNpemUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpbmhhcyA9IChyZXN1bHQuZGF0YSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGFnaW5hcyA9IG5ldyBBcnJheSgpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0xOyBpIDw9IHJlc3VsdC5kYXRhLnBhZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnaW5hcyA9IHBhZ2luYXM7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FycmVnYSBhcyBjYXRlZ29yaWFzIGRvIHNpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaXRlXG4gICAgICovXG4gICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5nZXQoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3NpdGUvJyArIGNvbmZpZy5oZWFkZXJzLlNpdGUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlID0gZGF0YS5kYXRhLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FkYXN0cmFyIFByb2R1dG9cbiAgICAgKi9cbiAgICAkc2NvcGUuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHByb2R1dG8gPSAkc2NvcGUucHJvZHV0bztcbiAgICAgICAgICAgICRwcm9kdXRvLmNhdGVnb3JpYSA9IHtcbiAgICAgICAgICAgICAgICB0aXR1bG86ICRzY29wZS5wcm9kdXRvRm9ybS5jYXRlZ29yaWEudGl0dWxvLFxuICAgICAgICAgICAgICAgIGNhdGVnb3JpYToge1xuICAgICAgICAgICAgICAgICAgICB0aXR1bG86ICRzY29wZS5wcm9kdXRvRm9ybS5zdWJDYXRlZ29yaWEudGl0dWxvXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAkdXBsb2FkXG4gICAgICAgICAgICAudXBsb2FkKHtcbiAgICAgICAgICAgICAgICB1cmw6ICQoJ21ldGFbbmFtZT1cImFwaVwiXScpLmF0dHIoJ2NvbnRlbnQnKSArICdwcm9kdXRvJyxcbiAgICAgICAgICAgICAgICBkYXRhOiAkcHJvZHV0byxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVyc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi51cmwoJy9wcm9kdXRvcycpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm8gY2FkYXN0cmFuZG8gcHJvZHV0bywgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzc1BlcmNlbnRhZ2UgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm9ncmVzczogJyArIHByb2dyZXNzUGVyY2VudGFnZSArICclICcgKyBldnQuY29uZmlnLmRhdGEuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcGFnYXIgUHJvZHV0b1xuICAgICAqXG4gICAgICogQHBhcmFtIGlkXG4gICAgICovXG4gICAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAoY29uZmlybSgnVm9jw6ogZGVzZWphIHJlYWxtZW50ZSBhcGFnYXIgbyBwcm9kdXRvP1xcbkVzdGUgcHJvY2VkaW1lbnRvIMOpIGlycmV2ZXJzw612ZWwhJykpIHtcbiAgICAgICAgICAgIHZhciB0b0RlbGV0ZSA9ICRzY29wZS5saW5oYXMuZGF0YVtpZF07XG5cbiAgICAgICAgICAgICRodHRwXG4gICAgICAgICAgICAgICAgLmRlbGV0ZSgkKCdtZXRhW25hbWU9XCJhcGlcIl0nKS5hdHRyKCdjb250ZW50JykgKyAncHJvZHV0by8nICsgdG9EZWxldGUuX2lkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdwcm9kdXRvIHJlbW92aWRvIGNvbSBzdWNlc3NvISdcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5saW5oYXMuZGF0YS5zcGxpY2UoaWQsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXJybyByZW1vdmVuZG8gcHJvZHV0bywgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRWRpdGFyIFByb2R1dG9cbiAgICAgKi9cbiAgICAkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRwcm9kdXRvID0gJHNjb3BlLnByb2R1dG87XG4gICAgICAgICAgICAkcHJvZHV0by5jYXRlZ29yaWEgPSB7XG4gICAgICAgICAgICAgICAgdGl0dWxvOiAkc2NvcGUucHJvZHV0b0Zvcm0uY2F0ZWdvcmlhLnRpdHVsbyxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWE6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0dWxvOiAkc2NvcGUucHJvZHV0b0Zvcm0uc3ViQ2F0ZWdvcmlhLnRpdHVsb1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5wdXQoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3Byb2R1dG8vJyArICRyb3V0ZVBhcmFtcy5pZCwgJHByb2R1dG8pXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ3Byb2R1dG8gYXR1YWxpemFkbyBjb20gc3VjZXNzbyEnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnT2NvcnJldSB1bSBlcnJvIGF0dWFsaXphbmRvIG9zIGRhZG9zIGRvIHByb2R1dG8sIHRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmlzdWFsaXphciBQcm9kdXRvXG4gICAgICovXG4gICAgJHNjb3BlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5nZXQoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3Byb2R1dG8vJyArICRyb3V0ZVBhcmFtcy5pZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2R1dG8gPSAoZGF0YS5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBQcm9kdWN0c1xuICAgICAqL1xuICAgICRzY29wZS5zZWFyY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHVybCA9ICQoJ21ldGFbbmFtZT1cImFwaVwiXScpLmF0dHIoJ2NvbnRlbnQnKVxuICAgICAgICAgICAgICAgICsgJ2J1c2NhLydcbiAgICAgICAgICAgICAgICArICc/cGFnZT0nICsgJHNjb3BlLmN1clBhZ2VcbiAgICAgICAgICAgICAgICArICcmbGltaXQ9JyArICRzY29wZS5wYWdlU2l6ZVxuICAgICAgICAgICAgICAgICsgJyZidXNjYT0nICsgJHNjb3BlLmJ1c2NhXG4gICAgICAgICAgICA7XG5cbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5nZXQodXJsKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5saW5oYXMgPSAocmVzdWx0LmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2luYXMgPSBuZXcgQXJyYXkoKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MTsgaSA8PSByZXN1bHQuZGF0YS5wYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmFzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXMgPSBwYWdpbmFzO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ215QXBwLnByb2R1dG9zJywgWyduZ1JvdXRlJywgJ25nRmlsZVVwbG9hZCddKVxuXG4gICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignL3Byb2R1dG9zJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wcm9kdXRvcy9pbmRleC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUHJvZHV0b3NDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvcHJvZHV0b3MvYWRpY2lvbmFyJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wcm9kdXRvcy9hZGQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1Byb2R1dG9zQ29udHJvbGxlcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3Byb2R1dG9zL2VkaXRhci86aWQnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Byb2R1dG9zL2VkaXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1Byb2R1dG9zQ29udHJvbGxlcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgIDtcbiAgICB9XSlcblxuICAgIC5jb250cm9sbGVyKCdQcm9kdXRvc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJywgJyRodHRwJywgJ1VwbG9hZCcsIFByb2R1dG9zQ29udHJvbGxlcl0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
