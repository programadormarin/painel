"use strict";function ProdutosController(t,o,e,a,r){t.curPage=1,t.pageSize=12;var n={headers:{Authorization:localStorage.getItem("token"),Site:localStorage.getItem("site")}};t.load=function(){a.get($('meta[name="api"]').attr("content")+"produto?page="+t.curPage+"&limit="+t.pageSize,n).then(function(o){t.linhas=o.data;for(var e=new Array,a=0;a<=o.data.pageCount;a++)e.push(a+1);t.paginas=e})},t.upload=function(){var o=t.produto;r.upload(o.imagem[0],{}).then(function(e){o.imagem=e.data,t.add(o)})},t.add=function(){var o=t.produto;a.post($('meta[name="api"]').attr("content")+"produto",o,n).then(function(o){201===o.status?(e.url("/produtos"),t.load()):t.status={type:"danger",message:"Erro cadastrando produto, tente novamente mais tarde"}})},t["delete"]=function(o){if(confirm("Você deseja realmente apagar o produto?\nEste procedimento é irreversível!")){var e=t.linhas.data[o];a["delete"]($('meta[name="api"]').attr("content")+"produto/"+e._id,n).then(function(e){204==e.status?(t.status={type:"success",message:"produto removido com sucesso!"},t.linhas.data.splice(o,1)):t.status={type:"danger",message:"Erro removendo produto, tente novamente mais tarde"}})}},t.edit=function(){a.put($('meta[name="api"]').attr("content")+"produto/"+o.id,t.produto,n).success(function(o){t.status={type:"success",message:"produto atualizado com sucesso!"}}).error(function(){t.status={type:"danger",message:"Ocorreu um erro atualizando os dados do produto, tente novamente mais tarde"}})},t.get=function(){a.get($('meta[name="api"]').attr("content")+"produto/"+o.id,n).then(function(o){t.produto=o.data.data})}}angular.module("myApp.produtos",["ngRoute","angular-cloudinary"]).config(["$routeProvider",function(t){t.when("/produtos",{templateUrl:"modules/produtos/index.html",controller:"ProdutosController"}).when("/produtos/adicionar",{templateUrl:"modules/produtos/add.html",controller:"ProdutosController"}).when("/produtos/editar/:id",{templateUrl:"modules/produtos/edit.html",controller:"ProdutosController"})}]).controller("ProdutosController",["$scope","$routeParams","$location","$http","cloudinary",ProdutosController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvcHJvZHV0b3MvaW5kZXguanMiXSwibmFtZXMiOlsiUHJvZHV0b3NDb250cm9sbGVyIiwiJHNjb3BlIiwiJHJvdXRlUGFyYW1zIiwiJGxvY2F0aW9uIiwiJGh0dHAiLCIkY2xvdWRpbmFyeSIsImN1clBhZ2UiLCJwYWdlU2l6ZSIsImNvbmZpZyIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIlNpdGUiLCJsb2FkIiwiZ2V0IiwiJCIsImF0dHIiLCJ0aGVuIiwicmVzdWx0IiwibGluaGFzIiwicGFnaW5hcyIsIkFycmF5IiwiaSIsImRhdGEiLCJwYWdlQ291bnQiLCJwdXNoIiwidXBsb2FkIiwiJHByb2R1dG8iLCJwcm9kdXRvIiwiaW1hZ2VtIiwicmVzcCIsImFkZCIsInBvc3QiLCJzdGF0dXMiLCJ1cmwiLCJ0eXBlIiwibWVzc2FnZSIsImlkIiwiY29uZmlybSIsInRvRGVsZXRlIiwiX2lkIiwic3BsaWNlIiwiZWRpdCIsInB1dCIsInN1Y2Nlc3MiLCJlcnJvciIsImFuZ3VsYXIiLCJtb2R1bGUiLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUEsU0FBU0Esb0JBQW9CQyxFQUFRQyxFQUFjQyxFQUFXQyxFQUFPQyxHQUNqRUosRUFBT0ssUUFBVyxFQUNsQkwsRUFBT00sU0FBVyxFQU9sQixJQUFJQyxJQUNBQyxTQUNJQyxjQUFlQyxhQUFhQyxRQUFRLFNBQ3BDQyxLQUFNRixhQUFhQyxRQUFRLFNBT25DWCxHQUFPYSxLQUFPLFdBQ1ZWLEVBQ0tXLElBQUlDLEVBQUUsb0JBQW9CQyxLQUFLLFdBQWEsZ0JBQWtCaEIsRUFBT0ssUUFBVSxVQUFZTCxFQUFPTSxTQUFVQyxHQUM1R1UsS0FBSyxTQUFVQyxHQUNabEIsRUFBT21CLE9BQVVELEVBQVcsSUFJNUIsS0FBSyxHQUZERSxHQUFVLEdBQUlDLE9BRVRDLEVBQUUsRUFBR0EsR0FBS0osRUFBT0ssS0FBS0MsVUFBV0YsSUFDdENGLEVBQVFLLEtBQUtILEVBQUksRUFHckJ0QixHQUFPb0IsUUFBVUEsS0FPN0JwQixFQUFPMEIsT0FBUyxXQUNaLEdBQUlDLEdBQVczQixFQUFPNEIsT0FFdEJ4QixHQUNLc0IsT0FBT0MsRUFBU0UsT0FBTyxPQUN2QlosS0FBSyxTQUFVYSxHQUNaSCxFQUFTRSxPQUFTQyxFQUFLUCxLQUV2QnZCLEVBQU8rQixJQUFJSixNQU92QjNCLEVBQU8rQixJQUFNLFdBQ1QsR0FBSUosR0FBVzNCLEVBQU80QixPQUV0QnpCLEdBQ0s2QixLQUFLakIsRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxVQUFXVyxFQUFVcEIsR0FDbEVVLEtBQUssU0FBVU0sR0FDUSxNQUFoQkEsRUFBS1UsUUFDTC9CLEVBQVVnQyxJQUFJLGFBQ2RsQyxFQUFPYSxRQUVQYixFQUFPaUMsUUFDSEUsS0FBTSxTQUNOQyxRQUFTLDJEQVc3QnBDLEVBQUFBLFVBQWdCLFNBQVVxQyxHQUN0QixHQUFJQyxRQUFRLDhFQUErRSxDQUN2RixHQUFJQyxHQUFXdkMsRUFBT21CLE9BQU9JLEtBQUtjLEVBRWxDbEMsR0FBQUEsVUFDWVksRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxXQUFhdUIsRUFBU0MsSUFBS2pDLEdBQzFFVSxLQUFLLFNBQVVNLEdBQ08sS0FBZkEsRUFBS1UsUUFDTGpDLEVBQU9pQyxRQUNIRSxLQUFNLFVBQ05DLFFBQVMsaUNBR2JwQyxFQUFPbUIsT0FBT0ksS0FBS2tCLE9BQU9KLEVBQUksSUFFOUJyQyxFQUFPaUMsUUFDSEUsS0FBTSxTQUNOQyxRQUFTLDBEQVVqQ3BDLEVBQU8wQyxLQUFPLFdBQ1Z2QyxFQUNLd0MsSUFBSTVCLEVBQUUsb0JBQW9CQyxLQUFLLFdBQWEsV0FBYWYsRUFBYW9DLEdBQUlyQyxFQUFPNEIsUUFBU3JCLEdBQzFGcUMsUUFBUSxTQUFVckIsR0FDZnZCLEVBQU9pQyxRQUNIRSxLQUFNLFVBQ05DLFFBQVMscUNBR2hCUyxNQUFNLFdBQ0g3QyxFQUFPaUMsUUFDSEUsS0FBTSxTQUNOQyxRQUFTLGtGQVF6QnBDLEVBQU9jLElBQU0sV0FDVFgsRUFDS1csSUFBSUMsRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxXQUFhZixFQUFhb0MsR0FBSTlCLEdBQzFFVSxLQUFLLFNBQVVNLEdBQ1p2QixFQUFPNEIsUUFBV0wsRUFBS0EsS0FBUyxRQUtoRHVCLFFBQ0tDLE9BQU8sa0JBQW1CLFVBQVcsdUJBRXJDeEMsUUFBUSxpQkFBa0IsU0FBVXlDLEdBQ2pDQSxFQUNLQyxLQUFLLGFBQ0ZDLFlBQWEsOEJBQ2JDLFdBQVksdUJBRWZGLEtBQUssdUJBQ0ZDLFlBQWEsNEJBQ2JDLFdBQVksdUJBRWZGLEtBQUssd0JBQ0ZDLFlBQWEsNkJBQ2JDLFdBQVksMEJBS3ZCQSxXQUFXLHNCQUF1QixTQUFVLGVBQWdCLFlBQWEsUUFBUyxhQUFjcEQiLCJmaWxlIjoibW9kdWxlcy9wcm9kdXRvcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gUHJvZHV0b3NDb250cm9sbGVyICgkc2NvcGUsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCAkaHR0cCwgJGNsb3VkaW5hcnkpIHtcbiAgICAkc2NvcGUuY3VyUGFnZSAgPSAxO1xuICAgICRzY29wZS5wYWdlU2l6ZSA9IDEyO1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhbCBjb25maWdcbiAgICAgKlxuICAgICAqIEB0eXBlIHt7aGVhZGVyczoge0F1dGhvcml6YXRpb24sIFNpdGV9fX1cbiAgICAgKi9cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbiAgICAgICAgICAgIFNpdGU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzaXRlJylcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYXJyZWdhciBQcm9kdXRvc1xuICAgICAqL1xuICAgICRzY29wZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkaHR0cFxuICAgICAgICAgICAgLmdldCgkKCdtZXRhW25hbWU9XCJhcGlcIl0nKS5hdHRyKCdjb250ZW50JykgKyAncHJvZHV0bz9wYWdlPScgKyAkc2NvcGUuY3VyUGFnZSArICcmbGltaXQ9JyArICRzY29wZS5wYWdlU2l6ZSwgY29uZmlnKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5saW5oYXMgPSAocmVzdWx0LmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2luYXMgPSBuZXcgQXJyYXkoKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaSA8PSByZXN1bHQuZGF0YS5wYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmFzLnB1c2goaSArIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdpbmFzID0gcGFnaW5hcztcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgZGUgaW1hZ2VtIGRvIFByb2R1dG9cbiAgICAgKi9cbiAgICAkc2NvcGUudXBsb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkcHJvZHV0byA9ICRzY29wZS5wcm9kdXRvO1xuXG4gICAgICAgICRjbG91ZGluYXJ5XG4gICAgICAgICAgICAudXBsb2FkKCRwcm9kdXRvLmltYWdlbVswXSwge30pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgICAgICRwcm9kdXRvLmltYWdlbSA9IHJlc3AuZGF0YTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5hZGQoJHByb2R1dG8pO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhZGFzdHJhciBQcm9kdXRvXG4gICAgICovXG4gICAgJHNjb3BlLmFkZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRwcm9kdXRvID0gJHNjb3BlLnByb2R1dG87XG5cbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5wb3N0KCQoJ21ldGFbbmFtZT1cImFwaVwiXScpLmF0dHIoJ2NvbnRlbnQnKSArICdwcm9kdXRvJywgJHByb2R1dG8sIGNvbmZpZylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAyMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnVybCgnL3Byb2R1dG9zJyk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2FkKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm8gY2FkYXN0cmFuZG8gcHJvZHV0bywgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwYWdhciBQcm9kdXRvXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKi9cbiAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGlmIChjb25maXJtKCdWb2PDqiBkZXNlamEgcmVhbG1lbnRlIGFwYWdhciBvIHByb2R1dG8/XFxuRXN0ZSBwcm9jZWRpbWVudG8gw6kgaXJyZXZlcnPDrXZlbCEnKSkge1xuICAgICAgICAgICAgdmFyIHRvRGVsZXRlID0gJHNjb3BlLmxpbmhhcy5kYXRhW2lkXTtcblxuICAgICAgICAgICAgJGh0dHBcbiAgICAgICAgICAgICAgICAuZGVsZXRlKCQoJ21ldGFbbmFtZT1cImFwaVwiXScpLmF0dHIoJ2NvbnRlbnQnKSArICdwcm9kdXRvLycgKyB0b0RlbGV0ZS5faWQsIGNvbmZpZylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAncHJvZHV0byByZW1vdmlkbyBjb20gc3VjZXNzbyEnXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGluaGFzLmRhdGEuc3BsaWNlKGlkLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm8gcmVtb3ZlbmRvIHByb2R1dG8sIHRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVkaXRhciBQcm9kdXRvXG4gICAgICovXG4gICAgJHNjb3BlLmVkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRodHRwXG4gICAgICAgICAgICAucHV0KCQoJ21ldGFbbmFtZT1cImFwaVwiXScpLmF0dHIoJ2NvbnRlbnQnKSArICdwcm9kdXRvLycgKyAkcm91dGVQYXJhbXMuaWQsICRzY29wZS5wcm9kdXRvLCBjb25maWcpXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ3Byb2R1dG8gYXR1YWxpemFkbyBjb20gc3VjZXNzbyEnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnT2NvcnJldSB1bSBlcnJvIGF0dWFsaXphbmRvIG9zIGRhZG9zIGRvIHByb2R1dG8sIHRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmlzdWFsaXphciBQcm9kdXRvXG4gICAgICovXG4gICAgJHNjb3BlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5nZXQoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3Byb2R1dG8vJyArICRyb3V0ZVBhcmFtcy5pZCwgY29uZmlnKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZHV0byA9IChkYXRhLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbXlBcHAucHJvZHV0b3MnLCBbJ25nUm91dGUnLCAnYW5ndWxhci1jbG91ZGluYXJ5J10pXG5cbiAgICAuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC53aGVuKCcvcHJvZHV0b3MnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Byb2R1dG9zL2luZGV4Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQcm9kdXRvc0NvbnRyb2xsZXInXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9wcm9kdXRvcy9hZGljaW9uYXInLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Byb2R1dG9zL2FkZC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUHJvZHV0b3NDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvcHJvZHV0b3MvZWRpdGFyLzppZCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcHJvZHV0b3MvZWRpdC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUHJvZHV0b3NDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgO1xuICAgIH1dKVxuXG4gICAgLmNvbnRyb2xsZXIoJ1Byb2R1dG9zQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnY2xvdWRpbmFyeScsIFByb2R1dG9zQ29udHJvbGxlcl0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
