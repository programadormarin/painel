"use strict";function ParceirosController(e,a,r,t,o){e.curPage=1,e.pageSize=12;var n={headers:{Authorization:localStorage.getItem("token"),Site:localStorage.getItem("site")}};e.load=function(){t.get($('meta[name="api"]').attr("content")+"parceiro?page="+e.curPage+"&limit="+e.pageSize,n).then(function(a){e.linhas=a.data})},e.add=function(){o.upload({url:$('meta[name="api"]').attr("content")+"parceiro",data:e.parceiro,headers:n.headers}).then(function(a){r.url("/parceiros"),e.load()},function(a){e.status={type:"danger",message:"Erro cadastrando parceiro, tente novamente mais tarde"}},function(e){var a=parseInt(100*e.loaded/e.total);console.log("progress: "+a+"% "+e.config.data.file.name)})},e["delete"]=function(a){if(confirm("Você deseja realmente apagar o parceiro?\nEste procedimento é irreversível!")){var o=e.linhas.data[a];t["delete"]($('meta[name="api"]').attr("content")+"parceiro/"+o._id,n).then(function(a){204==a.status?(e.status={type:"success",message:"Parceiro removido com sucesso!"},r.path("/parceiros"),e.load()):e.status={type:"danger",message:"Erro removendo parceiro, tente novamente mais tarde"}})}},e.edit=function(){t.put($('meta[name="api"]').attr("content")+"parceiro/"+a.id,e.parceiro,n).success(function(a){e.status={type:"success",message:"Parceiro atualizado com sucesso!"}}).error(function(){e.status={type:"danger",message:"Ocorreu um erro atualizando os dados do parceiro, tente novamente mais tarde"}})},e.get=function(){t.get($('meta[name="api"]').attr("content")+"parceiro/"+a.id,n).then(function(a){e.parceiro=a.data.data})}}angular.module("myApp.parceiros",["ngRoute","ngFileUpload"]).config(["$routeProvider",function(e){e.when("/parceiros",{templateUrl:"modules/parceiros/index.html",controller:"ParceirosController"}).when("/parceiros/adicionar",{templateUrl:"modules/parceiros/add.html",controller:"ParceirosController"}).when("/parceiros/editar/:id",{templateUrl:"modules/parceiros/edit.html",controller:"ParceirosController"})}]).controller("ParceirosController",["$scope","$routeParams","$location","$http","Upload",ParceirosController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvcGFyY2Vpcm9zL2luZGV4LmpzIl0sIm5hbWVzIjpbIlBhcmNlaXJvc0NvbnRyb2xsZXIiLCIkc2NvcGUiLCIkcm91dGVQYXJhbXMiLCIkbG9jYXRpb24iLCIkaHR0cCIsIiR1cGxvYWQiLCJjdXJQYWdlIiwicGFnZVNpemUiLCJjb25maWciLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJTaXRlIiwibG9hZCIsImdldCIsIiQiLCJhdHRyIiwidGhlbiIsImRhdGEiLCJsaW5oYXMiLCJhZGQiLCJ1cGxvYWQiLCJ1cmwiLCJwYXJjZWlybyIsInJlc3AiLCJzdGF0dXMiLCJ0eXBlIiwibWVzc2FnZSIsImV2dCIsInByb2dyZXNzUGVyY2VudGFnZSIsInBhcnNlSW50IiwibG9hZGVkIiwidG90YWwiLCJjb25zb2xlIiwibG9nIiwiZmlsZSIsIm5hbWUiLCJpZCIsImNvbmZpcm0iLCJ0b0RlbGV0ZSIsIl9pZCIsInBhdGgiLCJlZGl0IiwicHV0Iiwic3VjY2VzcyIsImVycm9yIiwiYW5ndWxhciIsIm1vZHVsZSIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUEsWUFZQSxTQUFTQSxxQkFBcUJDLEVBQVFDLEVBQWNDLEVBQVdDLEVBQU9DLEdBQ2xFSixFQUFPSyxRQUFXLEVBQ2xCTCxFQUFPTSxTQUFXLEVBT2xCLElBQUlDLElBQ0FDLFNBQ0lDLGNBQWVDLGFBQWFDLFFBQVEsU0FDcENDLEtBQU1GLGFBQWFDLFFBQVEsU0FPbkNYLEdBQU9hLEtBQU8sV0FDVlYsRUFDS1csSUFBSUMsRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxpQkFBbUJoQixFQUFPSyxRQUFVLFVBQVlMLEVBQU9NLFNBQVVDLEdBQzdHVSxLQUFLLFNBQVVDLEdBQ1psQixFQUFPbUIsT0FBVUQsRUFBUyxRQU90Q2xCLEVBQU9vQixJQUFNLFdBQ1RoQixFQUNLaUIsUUFDR0MsSUFBS1AsRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxXQUM3Q0UsS0FBTWxCLEVBQU91QixTQUNiZixRQUFTRCxFQUFPQyxVQUVuQlMsS0FDRyxTQUFVTyxHQUNOdEIsRUFBVW9CLElBQUksY0FDZHRCLEVBQU9hLFFBRVgsU0FBVVcsR0FDTnhCLEVBQU95QixRQUNIQyxLQUFNLFNBQ05DLFFBQVMsMERBR2pCLFNBQVVDLEdBQ04sR0FBSUMsR0FBcUJDLFNBQVMsSUFBUUYsRUFBSUcsT0FBU0gsRUFBSUksTUFFM0RDLFNBQVFDLElBQUksYUFBZUwsRUFBcUIsS0FBT0QsRUFBSXJCLE9BQU9XLEtBQUtpQixLQUFLQyxTQVU1RnBDLEVBQUFBLFVBQWdCLFNBQVVxQyxHQUN0QixHQUFJQyxRQUFRLCtFQUFnRixDQUN4RixHQUFJQyxHQUFXdkMsRUFBT21CLE9BQU9ELEtBQUttQixFQUVsQ2xDLEdBQUFBLFVBQ1lZLEVBQUUsb0JBQW9CQyxLQUFLLFdBQWEsWUFBY3VCLEVBQVNDLElBQUtqQyxHQUMzRVUsS0FBSyxTQUFVQyxHQUNPLEtBQWZBLEVBQUtPLFFBQ0x6QixFQUFPeUIsUUFDSEMsS0FBTSxVQUNOQyxRQUFTLGtDQUdiekIsRUFBVXVDLEtBQUssY0FDZnpDLEVBQU9hLFFBRVBiLEVBQU95QixRQUNIQyxLQUFNLFNBQ05DLFFBQVMsMkRBVWpDM0IsRUFBTzBDLEtBQU8sV0FDVnZDLEVBQ0t3QyxJQUFJNUIsRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxZQUFjZixFQUFhb0MsR0FBSXJDLEVBQU91QixTQUFVaEIsR0FDNUZxQyxRQUFRLFNBQVUxQixHQUNmbEIsRUFBT3lCLFFBQ0hDLEtBQU0sVUFDTkMsUUFBUyxzQ0FHaEJrQixNQUFNLFdBQ0g3QyxFQUFPeUIsUUFDSEMsS0FBTSxTQUNOQyxRQUFTLG1GQVF6QjNCLEVBQU9jLElBQU0sV0FDVFgsRUFDS1csSUFBSUMsRUFBRSxvQkFBb0JDLEtBQUssV0FBYSxZQUFjZixFQUFhb0MsR0FBSTlCLEdBQzNFVSxLQUFLLFNBQVVDLEdBQ1psQixFQUFPdUIsU0FBWUwsRUFBS0EsS0FBUyxRQUtqRDRCLFFBQ0tDLE9BQU8sbUJBQW9CLFVBQVcsaUJBRXRDeEMsUUFBUSxpQkFBa0IsU0FBVXlDLEdBQ2pDQSxFQUNLQyxLQUFLLGNBQ0ZDLFlBQWEsK0JBQ2JDLFdBQVksd0JBRWZGLEtBQUssd0JBQ0ZDLFlBQWEsNkJBQ2JDLFdBQVksd0JBRWZGLEtBQUsseUJBQ0ZDLFlBQWEsOEJBQ2JDLFdBQVksMkJBS3ZCQSxXQUFXLHVCQUF3QixTQUFVLGVBQWdCLFlBQWEsUUFBUyxTQUFVcEQiLCJmaWxlIjoibW9kdWxlcy9wYXJjZWlyb3MvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUGFyY2Vpcm9zXG4gKiBcbiAqIEBwYXJhbSAkc2NvcGVcbiAqIEBwYXJhbSAkcm91dGVQYXJhbXNcbiAqIEBwYXJhbSAkbG9jYXRpb25cbiAqIEBwYXJhbSAkaHR0cFxuICogQHBhcmFtIFVwbG9hZFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhcmNlaXJvc0NvbnRyb2xsZXIgKCRzY29wZSwgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sICRodHRwLCAkdXBsb2FkKSB7XG4gICAgJHNjb3BlLmN1clBhZ2UgID0gMTtcbiAgICAkc2NvcGUucGFnZVNpemUgPSAxMjtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYWwgY29uZmlnXG4gICAgICpcbiAgICAgKiBAdHlwZSB7e2hlYWRlcnM6IHtBdXRob3JpemF0aW9uLCBTaXRlfX19XG4gICAgICovXG4gICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksXG4gICAgICAgICAgICBTaXRlOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2l0ZScpXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FycmVnYSBQYXJjZWlyb3NcbiAgICAgKi9cbiAgICAkc2NvcGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5nZXQoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3BhcmNlaXJvP3BhZ2U9JyArICRzY29wZS5jdXJQYWdlICsgJyZsaW1pdD0nICsgJHNjb3BlLnBhZ2VTaXplLCBjb25maWcpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5saW5oYXMgPSAoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBQYXJjZWlyb1xuICAgICAqL1xuICAgICRzY29wZS5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR1cGxvYWRcbiAgICAgICAgICAgIC51cGxvYWQoe1xuICAgICAgICAgICAgICAgIHVybDogJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3BhcmNlaXJvJyxcbiAgICAgICAgICAgICAgICBkYXRhOiAkc2NvcGUucGFyY2Vpcm8sXG4gICAgICAgICAgICAgICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnNcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24udXJsKCcvcGFyY2Vpcm9zJyk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2FkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXJybyBjYWRhc3RyYW5kbyBwYXJjZWlybywgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzc1BlcmNlbnRhZ2UgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm9ncmVzczogJyArIHByb2dyZXNzUGVyY2VudGFnZSArICclICcgKyBldnQuY29uZmlnLmRhdGEuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcGFnYSBQYXJjZWlyb1xuICAgICAqXG4gICAgICogQHBhcmFtIGlkXG4gICAgICovXG4gICAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAoY29uZmlybSgnVm9jw6ogZGVzZWphIHJlYWxtZW50ZSBhcGFnYXIgbyBwYXJjZWlybz9cXG5Fc3RlIHByb2NlZGltZW50byDDqSBpcnJldmVyc8OtdmVsIScpKSB7XG4gICAgICAgICAgICB2YXIgdG9EZWxldGUgPSAkc2NvcGUubGluaGFzLmRhdGFbaWRdO1xuXG4gICAgICAgICAgICAkaHR0cFxuICAgICAgICAgICAgICAgIC5kZWxldGUoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3BhcmNlaXJvLycgKyB0b0RlbGV0ZS5faWQsIGNvbmZpZylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGFyY2Vpcm8gcmVtb3ZpZG8gY29tIHN1Y2Vzc28hJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9wYXJjZWlyb3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvIHJlbW92ZW5kbyBwYXJjZWlybywgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFZGl0YXIgUGFyY2Vpcm9cbiAgICAgKi9cbiAgICAkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGh0dHBcbiAgICAgICAgICAgIC5wdXQoJCgnbWV0YVtuYW1lPVwiYXBpXCJdJykuYXR0cignY29udGVudCcpICsgJ3BhcmNlaXJvLycgKyAkcm91dGVQYXJhbXMuaWQsICRzY29wZS5wYXJjZWlybywgY29uZmlnKVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQYXJjZWlybyBhdHVhbGl6YWRvIGNvbSBzdWNlc3NvISdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ09jb3JyZXUgdW0gZXJybyBhdHVhbGl6YW5kbyBvcyBkYWRvcyBkbyBwYXJjZWlybywgdGVudGUgbm92YW1lbnRlIG1haXMgdGFyZGUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZpc3VhbGl6YXIgUGFyY2Vpcm9cbiAgICAgKi9cbiAgICAkc2NvcGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkaHR0cFxuICAgICAgICAgICAgLmdldCgkKCdtZXRhW25hbWU9XCJhcGlcIl0nKS5hdHRyKCdjb250ZW50JykgKyAncGFyY2Vpcm8vJyArICRyb3V0ZVBhcmFtcy5pZCwgY29uZmlnKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFyY2Vpcm8gPSAoZGF0YS5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ215QXBwLnBhcmNlaXJvcycsIFsnbmdSb3V0ZScsICduZ0ZpbGVVcGxvYWQnXSlcblxuICAgIC5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xuICAgICAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAgICAgLndoZW4oJy9wYXJjZWlyb3MnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3BhcmNlaXJvcy9pbmRleC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUGFyY2Vpcm9zQ29udHJvbGxlcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3BhcmNlaXJvcy9hZGljaW9uYXInLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3BhcmNlaXJvcy9hZGQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1BhcmNlaXJvc0NvbnRyb2xsZXInXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oJy9wYXJjZWlyb3MvZWRpdGFyLzppZCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGFyY2Vpcm9zL2VkaXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1BhcmNlaXJvc0NvbnRyb2xsZXInXG4gICAgICAgICAgICB9KVxuICAgICAgICA7XG4gICAgfV0pXG5cbiAgICAuY29udHJvbGxlcignUGFyY2Vpcm9zQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnVXBsb2FkJywgUGFyY2Vpcm9zQ29udHJvbGxlcl0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
