"use strict";function ParceirosController(e,a,r,t,o){e.curPage=1,e.pageSize=12;var n={headers:{Authorization:localStorage.getItem("token"),Site:localStorage.getItem("site")}};e.load=function(){t.get($('meta[name="api"]').attr("content")+"parceiro?page="+e.curPage+"&limit="+e.pageSize,n).then(function(a){e.linhas=a.data})},e.add=function(){o.upload({url:$('meta[name="api"]').attr("content")+"parceiro",data:e.parceiro,headers:n.headers}).then(function(a){r.url("/parceiros"),e.load()},function(a){e.status={type:"danger",message:"Erro cadastrando parceiro, tente novamente mais tarde"}},function(e){var a=parseInt(100*e.loaded/e.total);console.log("progress: "+a+"% "+e.config.data.file.name)})},e["delete"]=function(a){if(confirm("Você deseja realmente apagar o parceiro?\nEste procedimento é irreversível!")){var o=e.linhas.data[a];t["delete"]($('meta[name="api"]').attr("content")+"parceiro/"+o._id,n).then(function(a){204==a.status?(e.status={type:"success",message:"Parceiro removido com sucesso!"},r.path("/parceiros"),e.load()):e.status={type:"danger",message:"Erro removendo parceiro, tente novamente mais tarde"}})}},e.edit=function(){t.put($('meta[name="api"]').attr("content")+"parceiro/"+a.id,e.parceiro,n).success(function(a){e.status={type:"success",message:"Parceiro atualizado com sucesso!"}}).error(function(){e.status={type:"danger",message:"Ocorreu um erro atualizando os dados do parceiro, tente novamente mais tarde"}})},e.get=function(){t.get($('meta[name="api"]').attr("content")+"parceiro/"+a.id,n).then(function(a){e.parceiro=a.data.data})}}angular.module("myApp.parceiros",["ngRoute","ngFileUpload"]).config(["$routeProvider",function(e){e.when("/parceiros",{templateUrl:"modules/parceiros/index.html",controller:"ParceirosController"}).when("/parceiros/adicionar",{templateUrl:"modules/parceiros/add.html",controller:"ParceirosController"}).when("/parceiros/editar/:id",{templateUrl:"modules/parceiros/edit.html",controller:"ParceirosController"})}]).controller("ParceirosController",["$scope","$routeParams","$location","$http","Upload",ParceirosController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcmNlaXJvcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJQYXJjZWlyb3NDb250cm9sbGVyIiwiJHNjb3BlIiwiJHJvdXRlUGFyYW1zIiwiJGxvY2F0aW9uIiwiJGh0dHAiLCIkdXBsb2FkIiwiY3VyUGFnZSIsInBhZ2VTaXplIiwiY29uZmlnIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiU2l0ZSIsImxvYWQiLCJnZXQiLCIkIiwiYXR0ciIsInRoZW4iLCJkYXRhIiwibGluaGFzIiwiYWRkIiwidXBsb2FkIiwidXJsIiwicGFyY2Vpcm8iLCJyZXNwIiwic3RhdHVzIiwidHlwZSIsIm1lc3NhZ2UiLCJldnQiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJwYXJzZUludCIsImxvYWRlZCIsInRvdGFsIiwiY29uc29sZSIsImxvZyIsImZpbGUiLCJuYW1lIiwiaWQiLCJjb25maXJtIiwidG9EZWxldGUiLCJfaWQiLCJwYXRoIiwiZWRpdCIsInB1dCIsInN1Y2Nlc3MiLCJlcnJvciIsImFuZ3VsYXIiLCJtb2R1bGUiLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUFBLFlBWUEsU0FBU0EscUJBQXFCQyxFQUFRQyxFQUFjQyxFQUFXQyxFQUFPQyxHQUNsRUosRUFBT0ssUUFBVyxFQUNsQkwsRUFBT00sU0FBVyxFQU9sQixJQUFJQyxJQUNBQyxTQUNJQyxjQUFlQyxhQUFhQyxRQUFRLFNBQ3BDQyxLQUFNRixhQUFhQyxRQUFRLFNBT25DWCxHQUFPYSxLQUFPLFdBQ1ZWLEVBQ0tXLElBQUlDLEVBQUUsb0JBQW9CQyxLQUFLLFdBQWEsaUJBQW1CaEIsRUFBT0ssUUFBVSxVQUFZTCxFQUFPTSxTQUFVQyxHQUM3R1UsS0FBSyxTQUFVQyxHQUNabEIsRUFBT21CLE9BQVVELEVBQVMsUUFPdENsQixFQUFPb0IsSUFBTSxXQUNUaEIsRUFDS2lCLFFBQ0dDLElBQUtQLEVBQUUsb0JBQW9CQyxLQUFLLFdBQWEsV0FDN0NFLEtBQU1sQixFQUFPdUIsU0FDYmYsUUFBU0QsRUFBT0MsVUFFbkJTLEtBQ0csU0FBVU8sR0FDTnRCLEVBQVVvQixJQUFJLGNBQ2R0QixFQUFPYSxRQUVYLFNBQVVXLEdBQ054QixFQUFPeUIsUUFDSEMsS0FBTSxTQUNOQyxRQUFTLDBEQUdqQixTQUFVQyxHQUNOLEdBQUlDLEdBQXFCQyxTQUFTLElBQVFGLEVBQUlHLE9BQVNILEVBQUlJLE1BRTNEQyxTQUFRQyxJQUFJLGFBQWVMLEVBQXFCLEtBQU9ELEVBQUlyQixPQUFPVyxLQUFLaUIsS0FBS0MsU0FVNUZwQyxFQUFBQSxVQUFnQixTQUFVcUMsR0FDdEIsR0FBSUMsUUFBUSwrRUFBZ0YsQ0FDeEYsR0FBSUMsR0FBV3ZDLEVBQU9tQixPQUFPRCxLQUFLbUIsRUFFbENsQyxHQUFBQSxVQUNZWSxFQUFFLG9CQUFvQkMsS0FBSyxXQUFhLFlBQWN1QixFQUFTQyxJQUFLakMsR0FDM0VVLEtBQUssU0FBVUMsR0FDTyxLQUFmQSxFQUFLTyxRQUNMekIsRUFBT3lCLFFBQ0hDLEtBQU0sVUFDTkMsUUFBUyxrQ0FHYnpCLEVBQVV1QyxLQUFLLGNBQ2Z6QyxFQUFPYSxRQUVQYixFQUFPeUIsUUFDSEMsS0FBTSxTQUNOQyxRQUFTLDJEQVVqQzNCLEVBQU8wQyxLQUFPLFdBQ1Z2QyxFQUNLd0MsSUFBSTVCLEVBQUUsb0JBQW9CQyxLQUFLLFdBQWEsWUFBY2YsRUFBYW9DLEdBQUlyQyxFQUFPdUIsU0FBVWhCLEdBQzVGcUMsUUFBUSxTQUFVMUIsR0FDZmxCLEVBQU95QixRQUNIQyxLQUFNLFVBQ05DLFFBQVMsc0NBR2hCa0IsTUFBTSxXQUNIN0MsRUFBT3lCLFFBQ0hDLEtBQU0sU0FDTkMsUUFBUyxtRkFRekIzQixFQUFPYyxJQUFNLFdBQ1RYLEVBQ0tXLElBQUlDLEVBQUUsb0JBQW9CQyxLQUFLLFdBQWEsWUFBY2YsRUFBYW9DLEdBQUk5QixHQUMzRVUsS0FBSyxTQUFVQyxHQUNabEIsRUFBT3VCLFNBQVlMLEVBQUtBLEtBQVMsUUFLakQ0QixRQUNLQyxPQUFPLG1CQUFvQixVQUFXLGlCQUV0Q3hDLFFBQVEsaUJBQWtCLFNBQVV5QyxHQUNqQ0EsRUFDS0MsS0FBSyxjQUNGQyxZQUFhLCtCQUNiQyxXQUFZLHdCQUVmRixLQUFLLHdCQUNGQyxZQUFhLDZCQUNiQyxXQUFZLHdCQUVmRixLQUFLLHlCQUNGQyxZQUFhLDhCQUNiQyxXQUFZLDJCQUt2QkEsV0FBVyx1QkFBd0IsU0FBVSxlQUFnQixZQUFhLFFBQVMsU0FBVXBEIiwiZmlsZSI6InBhcmNlaXJvcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBQYXJjZWlyb3NcbiAqIFxuICogQHBhcmFtICRzY29wZVxuICogQHBhcmFtICRyb3V0ZVBhcmFtc1xuICogQHBhcmFtICRsb2NhdGlvblxuICogQHBhcmFtICRodHRwXG4gKiBAcGFyYW0gVXBsb2FkXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUGFyY2Vpcm9zQ29udHJvbGxlciAoJHNjb3BlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbiwgJGh0dHAsICR1cGxvYWQpIHtcbiAgICAkc2NvcGUuY3VyUGFnZSAgPSAxO1xuICAgICRzY29wZS5wYWdlU2l6ZSA9IDEyO1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhbCBjb25maWdcbiAgICAgKlxuICAgICAqIEB0eXBlIHt7aGVhZGVyczoge0F1dGhvcml6YXRpb24sIFNpdGV9fX1cbiAgICAgKi9cbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbiAgICAgICAgICAgIFNpdGU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzaXRlJylcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYXJyZWdhIFBhcmNlaXJvc1xuICAgICAqL1xuICAgICRzY29wZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkaHR0cFxuICAgICAgICAgICAgLmdldCgkKCdtZXRhW25hbWU9XCJhcGlcIl0nKS5hdHRyKCdjb250ZW50JykgKyAncGFyY2Vpcm8/cGFnZT0nICsgJHNjb3BlLmN1clBhZ2UgKyAnJmxpbWl0PScgKyAkc2NvcGUucGFnZVNpemUsIGNvbmZpZylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpbmhhcyA9IChkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIFBhcmNlaXJvXG4gICAgICovXG4gICAgJHNjb3BlLmFkZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHVwbG9hZFxuICAgICAgICAgICAgLnVwbG9hZCh7XG4gICAgICAgICAgICAgICAgdXJsOiAkKCdtZXRhW25hbWU9XCJhcGlcIl0nKS5hdHRyKCdjb250ZW50JykgKyAncGFyY2Vpcm8nLFxuICAgICAgICAgICAgICAgIGRhdGE6ICRzY29wZS5wYXJjZWlybyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVyc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi51cmwoJy9wYXJjZWlyb3MnKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvIGNhZGFzdHJhbmRvIHBhcmNlaXJvLCB0ZW50ZSBub3ZhbWVudGUgbWFpcyB0YXJkZSdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzUGVyY2VudGFnZSA9IHBhcnNlSW50KDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Byb2dyZXNzOiAnICsgcHJvZ3Jlc3NQZXJjZW50YWdlICsgJyUgJyArIGV2dC5jb25maWcuZGF0YS5maWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwYWdhIFBhcmNlaXJvXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKi9cbiAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGlmIChjb25maXJtKCdWb2PDqiBkZXNlamEgcmVhbG1lbnRlIGFwYWdhciBvIHBhcmNlaXJvP1xcbkVzdGUgcHJvY2VkaW1lbnRvIMOpIGlycmV2ZXJzw612ZWwhJykpIHtcbiAgICAgICAgICAgIHZhciB0b0RlbGV0ZSA9ICRzY29wZS5saW5oYXMuZGF0YVtpZF07XG5cbiAgICAgICAgICAgICRodHRwXG4gICAgICAgICAgICAgICAgLmRlbGV0ZSgkKCdtZXRhW25hbWU9XCJhcGlcIl0nKS5hdHRyKCdjb250ZW50JykgKyAncGFyY2Vpcm8vJyArIHRvRGVsZXRlLl9pZCwgY29uZmlnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQYXJjZWlybyByZW1vdmlkbyBjb20gc3VjZXNzbyEnXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3BhcmNlaXJvcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm8gcmVtb3ZlbmRvIHBhcmNlaXJvLCB0ZW50ZSBub3ZhbWVudGUgbWFpcyB0YXJkZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVkaXRhciBQYXJjZWlyb1xuICAgICAqL1xuICAgICRzY29wZS5lZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkaHR0cFxuICAgICAgICAgICAgLnB1dCgkKCdtZXRhW25hbWU9XCJhcGlcIl0nKS5hdHRyKCdjb250ZW50JykgKyAncGFyY2Vpcm8vJyArICRyb3V0ZVBhcmFtcy5pZCwgJHNjb3BlLnBhcmNlaXJvLCBjb25maWcpXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BhcmNlaXJvIGF0dWFsaXphZG8gY29tIHN1Y2Vzc28hJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnT2NvcnJldSB1bSBlcnJvIGF0dWFsaXphbmRvIG9zIGRhZG9zIGRvIHBhcmNlaXJvLCB0ZW50ZSBub3ZhbWVudGUgbWFpcyB0YXJkZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmlzdWFsaXphciBQYXJjZWlyb1xuICAgICAqL1xuICAgICRzY29wZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRodHRwXG4gICAgICAgICAgICAuZ2V0KCQoJ21ldGFbbmFtZT1cImFwaVwiXScpLmF0dHIoJ2NvbnRlbnQnKSArICdwYXJjZWlyby8nICsgJHJvdXRlUGFyYW1zLmlkLCBjb25maWcpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wYXJjZWlybyA9IChkYXRhLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbXlBcHAucGFyY2Vpcm9zJywgWyduZ1JvdXRlJywgJ25nRmlsZVVwbG9hZCddKVxuXG4gICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignL3BhcmNlaXJvcycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGFyY2Vpcm9zL2luZGV4Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQYXJjZWlyb3NDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKCcvcGFyY2Vpcm9zL2FkaWNpb25hcicsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGFyY2Vpcm9zL2FkZC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUGFyY2Vpcm9zQ29udHJvbGxlcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbignL3BhcmNlaXJvcy9lZGl0YXIvOmlkJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wYXJjZWlyb3MvZWRpdC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUGFyY2Vpcm9zQ29udHJvbGxlcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgIDtcbiAgICB9XSlcblxuICAgIC5jb250cm9sbGVyKCdQYXJjZWlyb3NDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHJvdXRlUGFyYW1zJywgJyRsb2NhdGlvbicsICckaHR0cCcsICdVcGxvYWQnLCBQYXJjZWlyb3NDb250cm9sbGVyXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
